<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ dataset.title }}</title>
    <!-- Include Chart.js library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>
    <!-- Include jQuery library -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>

  <body>
    <h1>{{ dataset.title }}</h1>
    <div>
      <p>
        Showing data for {{ chart.filter_title }}: <select id="filter" data-url="{% url 'datasets:detail' dataset_id=dataset.id %}?filter_value=temp" style="-webkit-appearance: none;" onchange="updateChart(this.value)">
          {% for option in chart.filter_options %}
            {% if option == chart.filter_value %}
              <option value="{{ option }}" selected>{{ option }}</option>
            {% else %}
              <option value="{{ option }}">{{ option }}</option>
            {% endif %}
          {% endfor %}
        </select>
      </p>
    </div>
    <div id="wrapper" style="height:1000;">
      <canvas id="chart"></canvas>
    </div>

    {% load static %}
    {{ chart|json_script:"chart-data" }}
    <script src="{% static 'js/detail.js' %}"></script>
  </body>
</html>
